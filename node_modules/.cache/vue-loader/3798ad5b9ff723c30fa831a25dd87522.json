{"remainingRequest":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/src/views/home/Home.vue","mtime":1622075463347},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOWvvOWFpeeahOWtkOe7hOS7tgppbXBvcnQgSG9tZVN3aXBlciBmcm9tICIuL2NoaWxkQ29tcGVudHMvSG9tZVN3aXBlciI7CmltcG9ydCBIb21lUmVjb21tZW5kVmlldyBmcm9tICIuL2NoaWxkQ29tcGVudHMvSG9tZVJlY29tbWVuZFZpZXciOwppbXBvcnQgSG9tZUZlYXR1cmUgZnJvbSAiLi9jaGlsZENvbXBlbnRzL0hvbWVGZWF0dXJlIjsKCi8vIOWvvOWFpeeahOWFrOWFsee7hOS7tgppbXBvcnQgTmF2QmFyIGZyb20gImNvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXIiOwppbXBvcnQgVGFiQ29udHJvbCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC9UYWJDb250cm9sIjsKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0IgovLyDlr7zlhaXnmoTlhazlhbHmlrnms5Ug55Sx5LqO5LiN5pivZXhwb3J0IGRlZmF1bHTlr7zlh7rnmoTmiYDku6XopoHliqDlpKfmi6zlj7cKaW1wb3J0IHsgZ2V0SG9tZU11bHRpZGF0YSwgZ2V0SG9tZUdvb2RzIH0gZnJvbSAibmV0d29yay9ob21lIjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYW5uZXJzOiBbXSwKICAgICAgcmVjb21tZW5kczogW10sCiAgICAgIGdvb2RzOiB7CiAgICAgICAgJ3BvcCc6IHsKICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICB9LAogICAgICAgICduZXcnOiB7CiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgbGlzdDogW10sCiAgICAgICAgfSwKICAgICAgICAnc2VsbCc6IHsKICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1cnJlbnRUeXBlOidwb3AnCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgSG9tZVN3aXBlciwKICAgIEhvbWVSZWNvbW1lbmRWaWV3LAogICAgSG9tZUZlYXR1cmUsCiAgICBHb29kc0xpc3QsCgogICAgTmF2QmFyLAogICAgVGFiQ29udHJvbAogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKjIg44CB5LqL5Lu255uR5ZCs5pa55rOVCiAgICAgKi8KICB0YWJDbGljayhpbmRleCl7CiAgICAvLyBzd2l0Y2ggKGluZGV4KXsKICAgIC8vICAgY2FzZSAwOgogICAgLy8gICAgIHRoaXMuY3VycmVudFR5cGUgPSAicG9wIgogICAgLy8gICAgIGJyZWFrCiAgICAvLyAgIGNhc2UgMToKICAgIC8vICAgICB0aGlzLmN1cnJlbnRUeXBlID0gIm5ldyIKICAgIC8vICAgICBicmVhawogICAgLy8gICBjYXNlIDI6CiAgICAvLyAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICJzZWxsIgogICAgLy8gICAgIGJyZWFrCiAgICAvLyB9CiAgICB0aGlzLmN1cnJlbnRUeXBlPU9iamVjdC5rZXlzKHRoaXMuZ29vZHMpW2luZGV4XQogICAgY29uc29sZS5sb2coaW5kZXgpCiAgfSwKICAgIC8qCiAgICAgIDHjgIHnvZHnu5zor7fmsYLnm7jlhbPmlrnms5UKICAgICovCiAgICAvLyAxICDor7fmsYLlpJrkuKrmlbDmja4KICAgIGdldEhvbWVNdWx0aWRhdGEoKSB7CiAgICAgIGdldEhvbWVNdWx0aWRhdGEoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAvLyDov5nph4zmjIfnmoTmmK/lsIZyZXPnmoTnmoTlnLDlnYDotYvlgLznu5lyZXN1bHQs5Zug5Li6cmVzdWx05piv57uE5Lu26YeM55qE5Y+Y6YeP5omA5Lul5LiN5Lya6KKr6ZSA5q+B77yMCiAgICAgICAgLy8g5L2G5pivcmVz5Zyo5Ye95pWw5omn6KGM5a6M5ZCO5Lya6KKr5Ye65qCI6ZSA5q+BCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0OwogICAgICAgIHRoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLnJlY29tbWVuZC5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICAvLyAyIOivt+axguWVhuWTgeaVsOaNrgogICAgZ2V0SG9tZUdvb2RzKHR5cGUpIHsKICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArIDEKICAgICAgZ2V0SG9tZUdvb2RzKHR5cGUsIHBhZ2UpLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIC4uLuaYr2VzNuivreazle+8jOWwhmxpc3TnmoTkuK3nmoTmr4/kuIDkuKppdGVt5Y+W5Ye65p2lCiAgICAgICAgdGhpcy5nb29kc1t0eXBlXS5saXN0LnB1c2goLi4ucmVzLmRhdGEubGlzdCkKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UgKz0xCiAgICAgIH0pOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyAxICDor7fmsYLlpJrkuKrmlbDmja4KICAgIHRoaXMuZ2V0SG9tZU11bHRpZGF0YSgpOwogICAgLy8gMiDor7fmsYLllYblk4HmlbDmja4KICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCJwb3AiKQogICAgLy8gY29uc29sZS5sb2coInBvcCIpCiAgICB0aGlzLmdldEhvbWVHb29kcygic2VsbCIpOwogICAgdGhpcy5nZXRIb21lR29vZHMoIm5ldyIpOwogIH0sCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div slot=\"center\">购物节</div>\n    </nav-bar>\n    <home-swiper :banners=\"banners\"></home-swiper>\n    <home-recommend-view :recommends=\"recommends\"></home-recommend-view>\n    <home-feature></home-feature>\n    <tab-control \n      class=\"tab-control\" \n      @tabClick=\"tabClick\" \n      :titles=\"['流行', '新款', '精选']\"  \n    ></tab-control>\n    <goods-list :goods=\"goods[currentType].list\"></goods-list>\n  </div>\n</template>\n\n<script>\n// 导入的子组件\nimport HomeSwiper from \"./childCompents/HomeSwiper\";\nimport HomeRecommendView from \"./childCompents/HomeRecommendView\";\nimport HomeFeature from \"./childCompents/HomeFeature\";\n\n// 导入的公共组件\nimport NavBar from \"components/common/navbar/NavBar\";\nimport TabControl from \"components/content/tabControl/TabControl\";\nimport GoodsList from \"components/content/goods/GoodsList\"\n// 导入的公共方法 由于不是export default导出的所以要加大括号\nimport { getHomeMultidata, getHomeGoods } from \"network/home\";\n\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      banners: [],\n      recommends: [],\n      goods: {\n        'pop': {\n          page: 0,\n          list: [],\n        },\n        'new': {\n          page: 0,\n          list: [],\n        },\n        'sell': {\n          page: 0,\n          list: [],\n        }\n      },\n      currentType:'pop'\n    };\n  },\n  components: {\n    HomeSwiper,\n    HomeRecommendView,\n    HomeFeature,\n    GoodsList,\n\n    NavBar,\n    TabControl\n  },\n  methods: {\n    /**\n     *2 、事件监听方法\n     */\n  tabClick(index){\n    // switch (index){\n    //   case 0:\n    //     this.currentType = \"pop\"\n    //     break\n    //   case 1:\n    //     this.currentType = \"new\"\n    //     break\n    //   case 2:\n    //     this.currentType = \"sell\"\n    //     break\n    // }\n    this.currentType=Object.keys(this.goods)[index]\n    console.log(index)\n  },\n    /*\n      1、网络请求相关方法\n    */\n    // 1  请求多个数据\n    getHomeMultidata() {\n      getHomeMultidata().then((res) => {\n        // 这里指的是将res的的地址赋值给result,因为result是组件里的变量所以不会被销毁，\n        // 但是res在函数执行完后会被出栈销毁\n        // console.log(res)\n        this.banners = res.data.banner.list;\n        this.recommends = res.data.recommend.list;\n      });\n    },\n    // 2 请求商品数据\n    getHomeGoods(type) {\n      const page = this.goods[type].page + 1\n      getHomeGoods(type, page).then((res) => {\n        // ...是es6语法，将list的中的每一个item取出来\n        this.goods[type].list.push(...res.data.list)\n        this.goods[type].page +=1\n      });\n    },\n  },\n  created() {\n    // 1  请求多个数据\n    this.getHomeMultidata();\n    // 2 请求商品数据\n    this.getHomeGoods(\"pop\")\n    // console.log(\"pop\")\n    this.getHomeGoods(\"sell\");\n    this.getHomeGoods(\"new\");\n  },\n};\n</script>\n\n<style>\n#home {\n  padding-top: 44px;\n}\n\n.home-nav {\n  background-color: var(--color-tint);\n  color: white;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 9;\n}\n\n.tab-control {\n  position: sticky;\n  top: 44px;\n  z-index: 9;\n}\n</style>\n"]}]}