{"remainingRequest":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/src/views/home/Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/src/views/home/Home.vue","mtime":1622075463347},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/software/Vue/Vue跟踪学习/8-项目实战/code/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNob21lIHsKICBwYWRkaW5nLXRvcDogNDRweDsKfQoKLmhvbWUtbmF2IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci10aW50KTsKICBjb2xvcjogd2hpdGU7CiAgcG9zaXRpb246IGZpeGVkOwogIGxlZnQ6IDA7CiAgcmlnaHQ6IDA7CiAgdG9wOiAwOwogIHotaW5kZXg6IDk7Cn0KCi50YWItY29udHJvbCB7CiAgcG9zaXRpb246IHN0aWNreTsKICB0b3A6IDQ0cHg7CiAgei1pbmRleDogOTsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div slot=\"center\">购物节</div>\n    </nav-bar>\n    <home-swiper :banners=\"banners\"></home-swiper>\n    <home-recommend-view :recommends=\"recommends\"></home-recommend-view>\n    <home-feature></home-feature>\n    <tab-control \n      class=\"tab-control\" \n      @tabClick=\"tabClick\" \n      :titles=\"['流行', '新款', '精选']\"  \n    ></tab-control>\n    <goods-list :goods=\"goods[currentType].list\"></goods-list>\n  </div>\n</template>\n\n<script>\n// 导入的子组件\nimport HomeSwiper from \"./childCompents/HomeSwiper\";\nimport HomeRecommendView from \"./childCompents/HomeRecommendView\";\nimport HomeFeature from \"./childCompents/HomeFeature\";\n\n// 导入的公共组件\nimport NavBar from \"components/common/navbar/NavBar\";\nimport TabControl from \"components/content/tabControl/TabControl\";\nimport GoodsList from \"components/content/goods/GoodsList\"\n// 导入的公共方法 由于不是export default导出的所以要加大括号\nimport { getHomeMultidata, getHomeGoods } from \"network/home\";\n\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      banners: [],\n      recommends: [],\n      goods: {\n        'pop': {\n          page: 0,\n          list: [],\n        },\n        'new': {\n          page: 0,\n          list: [],\n        },\n        'sell': {\n          page: 0,\n          list: [],\n        }\n      },\n      currentType:'pop'\n    };\n  },\n  components: {\n    HomeSwiper,\n    HomeRecommendView,\n    HomeFeature,\n    GoodsList,\n\n    NavBar,\n    TabControl\n  },\n  methods: {\n    /**\n     *2 、事件监听方法\n     */\n  tabClick(index){\n    // switch (index){\n    //   case 0:\n    //     this.currentType = \"pop\"\n    //     break\n    //   case 1:\n    //     this.currentType = \"new\"\n    //     break\n    //   case 2:\n    //     this.currentType = \"sell\"\n    //     break\n    // }\n    this.currentType=Object.keys(this.goods)[index]\n    console.log(index)\n  },\n    /*\n      1、网络请求相关方法\n    */\n    // 1  请求多个数据\n    getHomeMultidata() {\n      getHomeMultidata().then((res) => {\n        // 这里指的是将res的的地址赋值给result,因为result是组件里的变量所以不会被销毁，\n        // 但是res在函数执行完后会被出栈销毁\n        // console.log(res)\n        this.banners = res.data.banner.list;\n        this.recommends = res.data.recommend.list;\n      });\n    },\n    // 2 请求商品数据\n    getHomeGoods(type) {\n      const page = this.goods[type].page + 1\n      getHomeGoods(type, page).then((res) => {\n        // ...是es6语法，将list的中的每一个item取出来\n        this.goods[type].list.push(...res.data.list)\n        this.goods[type].page +=1\n      });\n    },\n  },\n  created() {\n    // 1  请求多个数据\n    this.getHomeMultidata();\n    // 2 请求商品数据\n    this.getHomeGoods(\"pop\")\n    // console.log(\"pop\")\n    this.getHomeGoods(\"sell\");\n    this.getHomeGoods(\"new\");\n  },\n};\n</script>\n\n<style>\n#home {\n  padding-top: 44px;\n}\n\n.home-nav {\n  background-color: var(--color-tint);\n  color: white;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 9;\n}\n\n.tab-control {\n  position: sticky;\n  top: 44px;\n  z-index: 9;\n}\n</style>\n"]}]}